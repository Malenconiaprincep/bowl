# Cursor AI 操作规则

## 文件保护规则
- **禁止修改测试用例文件**: 所有位于 `src/__tests__/` 目录下的测试文件（如 `*.test.ts`, `*.test.js`, `*.spec.ts`, `*.spec.js`）都不应该被 AI 修改
- **测试用例完整性**: 保持测试用例的原始逻辑和期望结果不变
- **只修改实现代码**: AI 只能修改 `src/` 目录下的实现代码文件，不能修改测试文件

## 代码修改原则
- 当测试失败时，应该修改实现代码来修复问题，而不是修改测试用例
- 测试用例反映了预期的行为，应该作为代码正确性的标准
- 如果测试用例本身有问题，应该与用户讨论确认后再修改

## 文件类型限制
- ✅ 允许修改: `src/` 目录下的实现代码文件
- ❌ 禁止修改: `src/__tests__/` 目录下的所有测试文件
- ❌ 禁止修改: 配置文件（如 `package.json`, `tsconfig.json` 等）

## 操作指导
- 当遇到测试失败时，首先分析失败原因
- 检查实现代码是否符合测试用例的期望
- 修改实现代码以通过测试，而不是修改测试用例
- 如果测试用例确实有逻辑错误，需要用户明确确认后才能修改
